class StudentsController < ApplicationController

#-------------------------------------------------------------------------------------------
#index.rhtml
#-------------------------------------------------------------------------------------------
  def index

    @students = Student.all

    respond_to do |format|

      format.html # index.html.erb
      format.xml  { render :xml => @students }

    end #end do

  end 
#-------------------------------------------------------------------------------------------
#end def index
#-------------------------------------------------------------------------------------------


#-------------------------------------------------------------------------------------------
#show.rhtml
#-------------------------------------------------------------------------------------------
  def show

    @student = Student.find(params[:id])#search_stdId(params[:Id])

  end 
#-------------------------------------------------------------------------------------------
#end show
#-------------------------------------------------------------------------------------------

#-------------------------------------------------------------------------------------------
#new.rhtml
#-------------------------------------------------------------------------------------------
  def new

    @student = Student.new

    respond_to do |format|

      format.html
      format.xml {render :xml => @student}

    end #end do

  end 
#-------------------------------------------------------------------------------------------
#end def new
#-------------------------------------------------------------------------------------------

#-------------------------------------------------------------------------------------------
#Creates new Student in db when submit from new.rhtml
#-------------------------------------------------------------------------------------------
  def create

    @student = Student.new(params[:student])

    respond_to do |format|

      if @student.save
        format.html { redirect_to(:action=> "index")}#@student, :notice => 'Student was successfully created.') }
        format.xml  { render :xml => @student, :status => :created, :location => @student }
      else
        format.html { render :action => "new" }
        format.xml  { render :xml => @student.errors, :status => :unprocessable_entity }
      end #end if else

    end #end do

  end 
#-------------------------------------------------------------------------------------------
#end def create
#-------------------------------------------------------------------------------------------

#-------------------------------------------------------------------------------------------
#edit.rhtml
#------------------------------------------------------------------------------------------
  def edit

    @student = Student.find(params[:id])

    respond_to do |format|

      format.html
      format.xml {render :xml => @student}

    end #end do

  end
#-------------------------------------------------------------------------------------------
#end def edit
#-------------------------------------------------------------------------------------------

#-------------------------------------------------------------------------------------------
#update.rhtml
#------------------------------------------------------------------------------------------
  def update
    @student = Student.find(params[:id])

    respond_to do |format|

      if @student.update_attributes(params[:student])
        format.html {render :action=>"show"}#redirect_to("/students/#{@student.id}")
      else 
        format.html { render :action =>"edit"}
        format.xml  { render :xml => @student.errors, :status => :unprocessable_entity }
      end

    end

  end
#-------------------------------------------------------------------------------------------
#end def update
#-------------------------------------------------------------------------------------------

#-------------------------------------------------------------------------------------------
#delete.rhtml
#------------------------------------------------------------------------------------------
  def delete

    @student = Student.find(params[:id])
    @student.destroy
    redirect_to "/students/"

  end
#-------------------------------------------------------------------------------------------
#end def delete
#-------------------------------------------------------------------------------------------

#-------------------------------------------------------------------------------------------
#find.rhtml
#------------------------------------------------------------------------------------------
  def find

#    puts params[:search_string]
    @students = Student.find(:all, :conditions=>["name LIKE ?", "%#{params[:search_string]}%"])

    respond_to do |format|

      format.html # index.html.erb
      format.xml  { render :xml => @students }

    end #end do

  end
#-------------------------------------------------------------------------------------------
#end def find
#-------------------------------------------------------------------------------------------

end
